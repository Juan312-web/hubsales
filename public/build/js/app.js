function initApp(){handleMenu(),handleSelectedLink(),handleSearchView(),handleSearch()}function handleMenu(){const e=document.getElementById("menubar"),t=document.getElementById("menuclose"),a=document.getElementById("sidebar"),c=document.querySelector("#views__search");e&&e.addEventListener("click",()=>{a.classList.add("active"),c.classList.contains("active__search")&&(c.classList.remove("active__search"),c.classList.add("hide__search"))}),t&&t.addEventListener("click",()=>{a.classList.remove("active"),c.classList.remove("hide__search")})}function handleSelectedLink(){const e=document.querySelectorAll(".sidebar__link");e&&e.forEach(e=>{let t=window.location.href.split("/")[3];e.attributes.href.value.split("/")[1]!==t||e.classList.add("selected")})}function handleSearchView(){const e=document.querySelector("#views__search"),t=document.querySelector(".search__button");t&&t.addEventListener("click",t=>{t.preventDefault(),e.classList.remove("hidde__search"),e.classList.toggle("active__search")})}function handleSearch(){document.querySelectorAll(".views__input").forEach(e=>{e.addEventListener("input",t=>{t.preventDefault();let a=e.getAttribute("data-id").split("__")[1],c=e.getAttribute("data-search");handleSearchDinamic(a,t.target.value,c)})})}async function handleSearchDinamic(e,t,a){const c=document.querySelector(`.${e}__table`).querySelectorAll("tr#row");if(!t)return void c.forEach(e=>{e.style.display=""});let n=await searchBD(e,t);c.forEach(async e=>{const t=parseInt(e.getAttribute("data-row")),c=await n.some(e=>e[a]==t);e.style.display=c?"":"none"})}async function searchBD(e,t){try{const a=`http://localhost:3000/api/${e}?value=${t}`,c=await fetch(a);return await c.json()}catch(e){console.log(e)}}document.addEventListener("DOMContentLoaded",(function(){initApp()}));